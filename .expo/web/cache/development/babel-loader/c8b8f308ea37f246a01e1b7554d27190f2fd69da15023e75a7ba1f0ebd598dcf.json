{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { getAuth, updatePassword } from 'firebase/auth';\nimport { firebaseApp } from \"../firebase/credenciales\";\nimport { initializeApp } from 'firebase/app';\nimport { firebaseConfig } from \"../firebase/credenciales\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ChangePassword = function ChangePassword(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentPassword = _useState2[0],\n    setCurrentPassword = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    newPassword = _useState4[0],\n    setNewPassword = _useState4[1];\n  var handleChangePassword = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var firebaseApp = initializeApp(firebaseConfig);\n      try {\n        var auth = getAuth(firebaseApp);\n        var currentUser = auth.currentUser;\n        if (currentUser) {\n          var credentials = yield auth.signInWithEmailAndPassword(currentUser.email, currentPassword);\n          if (credentials.user) {\n            yield updatePassword(credentials.user, newPassword);\n            auth.signOut();\n            navigation.replace('Login');\n          }\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function handleChangePassword() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Cambiar Contrase\\xF1a\"\n    }), _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(Text, {\n        style: styles.label,\n        children: \"Contrase\\xF1a actual\"\n      }), _jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Ingrese su contrase\\xF1a actual\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(text) {\n          return setCurrentPassword(text);\n        },\n        value: currentPassword\n      })]\n    }), _jsxs(View, {\n      style: styles.inputContainer,\n      children: [_jsx(Text, {\n        style: styles.label,\n        children: \"Nueva Contrase\\xF1a\"\n      }), _jsx(TextInput, {\n        style: styles.input,\n        placeholder: \"Ingrese su nueva contrase\\xF1a\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(text) {\n          return setNewPassword(text);\n        },\n        value: newPassword\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: styles.button,\n      onPress: handleChangePassword,\n      children: _jsx(Text, {\n        style: styles.buttonText,\n        children: \"Cambiar Contrase\\xF1a\"\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FFFFFF',\n    padding: 20\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginTop: 20,\n    marginBottom: 20\n  },\n  inputContainer: {\n    marginBottom: 20\n  },\n  label: {\n    fontSize: 16,\n    marginBottom: 5,\n    color: '#333333'\n  },\n  input: {\n    height: 40,\n    borderWidth: 1,\n    borderRadius: 5,\n    borderColor: '#CCCCCC',\n    paddingLeft: 10\n  },\n  button: {\n    backgroundColor: '#007AFF',\n    height: 50,\n    borderRadius: 5,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  buttonText: {\n    color: '#FFFFFF',\n    fontWeight: 'bold',\n    fontSize: 16\n  }\n});\nexport default ChangePassword;","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","StyleSheet","getAuth","updatePassword","firebaseApp","initializeApp","firebaseConfig","jsx","_jsx","jsxs","_jsxs","ChangePassword","_ref","navigation","_useState","_useState2","_slicedToArray","currentPassword","setCurrentPassword","_useState3","_useState4","newPassword","setNewPassword","handleChangePassword","_ref2","_asyncToGenerator","auth","currentUser","credentials","signInWithEmailAndPassword","email","user","signOut","replace","error","console","log","apply","arguments","style","styles","container","children","title","inputContainer","label","input","placeholder","secureTextEntry","onChangeText","text","value","button","onPress","buttonText","create","flex","backgroundColor","padding","fontSize","fontWeight","textAlign","marginTop","marginBottom","color","height","borderWidth","borderRadius","borderColor","paddingLeft","justifyContent","alignItems"],"sources":["C:/Users/popst/Desktop/PracticasMoviles/DNavigator/src/screens/ChangePassword.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\r\nimport { getAuth, updatePassword, } from 'firebase/auth';\r\nimport { firebaseApp } from '../firebase/credenciales';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { firebaseConfig } from '../firebase/credenciales';\r\n\r\n\r\nconst ChangePassword = ({ navigation }) => {\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n\r\n  const handleChangePassword = async () => {\r\n    const firebaseApp = initializeApp(firebaseConfig);\r\n    try {\r\n      const auth = getAuth(firebaseApp);\r\n      const currentUser = auth.currentUser;\r\n\r\n      if (currentUser) {\r\n        const credentials = await auth.signInWithEmailAndPassword(currentUser.email, currentPassword);\r\n        \r\n        if (credentials.user) {\r\n          await updatePassword(credentials.user, newPassword);\r\n          auth.signOut(); // Cerrar sesión después de cambiar la contraseña\r\n          navigation.replace('Login'); // Redirigir al usuario a la pantalla de inicio de sesión\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>Cambiar Contraseña</Text>\r\n      <View style={styles.inputContainer}>\r\n        <Text style={styles.label}>Contraseña actual</Text>\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Ingrese su contraseña actual\"\r\n          secureTextEntry\r\n          onChangeText={(text) => setCurrentPassword(text)}\r\n          value={currentPassword}\r\n        />\r\n      </View>\r\n      <View style={styles.inputContainer}>\r\n        <Text style={styles.label}>Nueva Contraseña</Text>\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Ingrese su nueva contraseña\"\r\n          secureTextEntry\r\n          onChangeText={(text) => setNewPassword(text)}\r\n          value={newPassword}\r\n        />\r\n      </View>\r\n      <TouchableOpacity style={styles.button} onPress={handleChangePassword}>\r\n        <Text style={styles.buttonText}>Cambiar Contraseña</Text>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#FFFFFF',\r\n    padding: 20,\r\n  },\r\n  title: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n  },\r\n  inputContainer: {\r\n    marginBottom: 20,\r\n  },\r\n  label: {\r\n    fontSize: 16,\r\n    marginBottom: 5,\r\n    color: '#333333',\r\n  },\r\n  input: {\r\n    height: 40,\r\n    borderWidth: 1,\r\n    borderRadius: 5,\r\n    borderColor: '#CCCCCC',\r\n    paddingLeft: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: '#007AFF',\r\n    height: 50,\r\n    borderRadius: 5,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  buttonText: {\r\n    color: '#FFFFFF',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n});\r\n\r\nexport default ChangePassword;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}